var Web3 = require('web3');

window.addEventListener('load', function() {

  // Checking if Web3 has been injected by the browser (Mist/MetaMask)
  if (typeof window.web3 !== 'undefined') {
    // Use Mist/MetaMask's provider
    //window.web3 = new Web3(web3.currentProvider);
  } else {
    console.log('No web3? You should consider trying MetaMask!')
    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
    //window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
  }
	window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));

  // Now you can start your app & access web3 freely:
  startApp()

})

function startApp(){
  const SimpleBoardABI = [{"contractName":"SimpleBoard","abi":[{"constant":true,"inputs":[],"name":"getResponsesAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"resNum","type":"uint8"}],"name":"getResponseOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"resNum","type":"uint8"}],"name":"getResponseStr","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"str","type":"string"}],"name":"postRes","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x6060604052341561000f57600080fd5b61060a8061001e6000396000f300606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806323c3f9db146100675780636dded75a1461009057806387de8808146100f6578063c8343ca314610195575b600080fd5b341561007257600080fd5b61007a6101c3565b6040518082815260200191505060405180910390f35b341561009b57600080fd5b6100b4600480803560ff169060200190919050506101cf565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561010157600080fd5b61011a600480803560ff1690602001909190505061021b565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561015a57808201518184015260208101905061013f565b50505050905090810190601f1680156101875780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156101a057600080fd5b6101c1600480803590602001908201803590602001919091929050506102e6565b005b60008080549050905090565b6000808260ff168154811015156101e257fe5b906000526020600020906002020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b61022361040b565b60008260ff1681548110151561023557fe5b90600052602060002090600202016001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102da5780601f106102af576101008083540402835291602001916102da565b820191906000526020600020905b8154815290600101906020018083116102bd57829003601f168201915b50505050509050919050565b6102ee61041f565b6064600080549050111561030157610406565b33816000019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505082828080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050508160200181905250600080548060010182816103889190610455565b9160005260206000209060020201600083909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019080519060200190610401929190610487565b505050505b505050565b602060405190810160405280600081525090565b6040805190810160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200161044f610507565b81525090565b81548183558181151161048257600202816002028360005260206000209182019101610481919061051b565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106104c857805160ff19168380011785556104f6565b828001600101855582156104f6579182015b828111156104f55782518255916020019190600101906104da565b5b5090506105039190610571565b5090565b602060405190810160405280600081525090565b61056e91905b8082111561056a57600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001820160006105619190610596565b50600201610521565b5090565b90565b61059391905b8082111561058f576000816000905550600101610577565b5090565b90565b50805460018160011615610100020316600290046000825580601f106105bc57506105db565b601f0160209004906000526020600020908101906105da9190610571565b5b505600a165627a7a72305820715af5f367b30de68eae49809b4c687b9210334be1011da608979f910f95a8040029","deployedBytecode":"0x606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806323c3f9db146100675780636dded75a1461009057806387de8808146100f6578063c8343ca314610195575b600080fd5b341561007257600080fd5b61007a6101c3565b6040518082815260200191505060405180910390f35b341561009b57600080fd5b6100b4600480803560ff169060200190919050506101cf565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561010157600080fd5b61011a600480803560ff1690602001909190505061021b565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561015a57808201518184015260208101905061013f565b50505050905090810190601f1680156101875780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156101a057600080fd5b6101c1600480803590602001908201803590602001919091929050506102e6565b005b60008080549050905090565b6000808260ff168154811015156101e257fe5b906000526020600020906002020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b61022361040b565b60008260ff1681548110151561023557fe5b90600052602060002090600202016001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102da5780601f106102af576101008083540402835291602001916102da565b820191906000526020600020905b8154815290600101906020018083116102bd57829003601f168201915b50505050509050919050565b6102ee61041f565b6064600080549050111561030157610406565b33816000019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505082828080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050508160200181905250600080548060010182816103889190610455565b9160005260206000209060020201600083909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019080519060200190610401929190610487565b505050505b505050565b602060405190810160405280600081525090565b6040805190810160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200161044f610507565b81525090565b81548183558181151161048257600202816002028360005260206000209182019101610481919061051b565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106104c857805160ff19168380011785556104f6565b828001600101855582156104f6579182015b828111156104f55782518255916020019190600101906104da565b5b5090506105039190610571565b5090565b602060405190810160405280600081525090565b61056e91905b8082111561056a57600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001820160006105619190610596565b50600201610521565b5090565b90565b61059391905b8082111561058f576000816000905550600101610577565b5090565b90565b50805460018160011615610100020316600290046000825580601f106105bc57506105db565b601f0160209004906000526020600020908101906105da9190610571565b5b505600a165627a7a72305820715af5f367b30de68eae49809b4c687b9210334be1011da608979f910f95a8040029","sourceMap":"25:768:0:-;;;;;;;;;;;;;;;;;","deployedSourceMap":"25:768:0:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;445:99;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;549:121;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;675:116;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:2;8:100;;;99:1;94:3;90;84:5;80:1;75:3;71;64:6;52:2;49:1;45:3;40:15;;8:100;;;12:14;3:109;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;224:216:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;445:99;499:4;521:9;:16;;;;514:23;;445:99;:::o;549:121::-;614:7;640:9;650:6;640:17;;;;;;;;;;;;;;;;;;;;;;:23;;;;;;;;;;;;633:30;;549:121;;;:::o;675:116::-;738:6;;:::i;:::-;763:9;773:6;763:17;;;;;;;;;;;;;;;;;;;;;;:21;;756:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;675:116;;;:::o;224:216::-;317:20;;:::i;:::-;295:3;276:9;:16;;;;:22;272:35;;;300:7;;272:35;360:10;347:4;:10;;:23;;;;;;;;;;;391:3;;380:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:4;:8;;:14;;;;413:9;:20;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;428:4;413:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;224:216;;;;:::o;25:768::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o","source":"pragma solidity 0.4.18;contract SimpleBoard { struct Topic { address owner; string title; } struct Response { address owner; string str; } Response[] responses;  function postRes(string str) external { if (responses.length > 100) return; Response memory temp; temp.owner = msg.sender; temp.str = str;  responses.push(temp); } function getResponsesAmount() public constant returns(uint){ return responses.length; } function getResponseOwner(uint8 resNum) public constant returns (address) { return responses[resNum].owner; } function getResponseStr(uint8 resNum) public constant returns (string) { return responses[resNum].str; }}","sourcePath":"/home/katio/script/Solidity-simpleboard-webpack/contracts/SimpleBoard.sol","ast":{"attributes":{"absolutePath":"/home/katio/script/Solidity-simpleboard-webpack/contracts/SimpleBoard.sol","exportedSymbols":{"SimpleBoard":[84]}},"children":[{"attributes":{"literals":["solidity","0.4",".18"]},"id":1,"name":"PragmaDirective","src":"0:23:0"},{"attributes":{"baseContracts":[null],"contractDependencies":[null],"contractKind":"contract","documentation":null,"fullyImplemented":true,"linearizedBaseContracts":[84],"name":"SimpleBoard","scope":85},"children":[{"attributes":{"canonicalName":"SimpleBoard.Topic","name":"Topic","scope":84,"visibility":"public"},"children":[{"attributes":{"constant":false,"name":"owner","scope":6,"stateVariable":false,"storageLocation":"default","type":"address","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"address","type":"address"},"id":2,"name":"ElementaryTypeName","src":"75:7:0"}],"id":3,"name":"VariableDeclaration","src":"75:13:0"},{"attributes":{"constant":false,"name":"title","scope":6,"stateVariable":false,"storageLocation":"default","type":"string storage pointer","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"string","type":"string storage pointer"},"id":4,"name":"ElementaryTypeName","src":"98:6:0"}],"id":5,"name":"VariableDeclaration","src":"98:12:0"}],"id":6,"name":"StructDefinition","src":"52:65:0"},{"attributes":{"canonicalName":"SimpleBoard.Response","name":"Response","scope":84,"visibility":"public"},"children":[{"attributes":{"constant":false,"name":"owner","scope":11,"stateVariable":false,"storageLocation":"default","type":"address","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"address","type":"address"},"id":7,"name":"ElementaryTypeName","src":"148:7:0"}],"id":8,"name":"VariableDeclaration","src":"148:13:0"},{"attributes":{"constant":false,"name":"str","scope":11,"stateVariable":false,"storageLocation":"default","type":"string storage pointer","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"string","type":"string storage pointer"},"id":9,"name":"ElementaryTypeName","src":"171:6:0"}],"id":10,"name":"VariableDeclaration","src":"171:10:0"}],"id":11,"name":"StructDefinition","src":"122:66:0"},{"attributes":{"constant":false,"name":"responses","scope":84,"stateVariable":true,"storageLocation":"default","type":"struct SimpleBoard.Response storage ref[] storage ref","value":null,"visibility":"internal"},"children":[{"attributes":{"length":null,"type":"struct SimpleBoard.Response storage ref[] storage pointer"},"children":[{"attributes":{"contractScope":null,"name":"Response","referencedDeclaration":11,"type":"struct SimpleBoard.Response storage pointer"},"id":12,"name":"UserDefinedTypeName","src":"193:8:0"}],"id":13,"name":"ArrayTypeName","src":"193:10:0"}],"id":14,"name":"VariableDeclaration","src":"193:20:0"},{"attributes":{"constant":false,"implemented":true,"isConstructor":false,"modifiers":[null],"name":"postRes","payable":false,"scope":84,"stateMutability":"nonpayable","superFunction":null,"visibility":"external"},"children":[{"children":[{"attributes":{"constant":false,"name":"str","scope":48,"stateVariable":false,"storageLocation":"default","type":"string calldata","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"string","type":"string storage pointer"},"id":15,"name":"ElementaryTypeName","src":"241:6:0"}],"id":16,"name":"VariableDeclaration","src":"241:10:0"}],"id":17,"name":"ParameterList","src":"240:12:0"},{"attributes":{"parameters":[null]},"children":[],"id":18,"name":"ParameterList","src":"262:0:0"},{"children":[{"attributes":{"falseBody":null},"children":[{"attributes":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"operator":">","type":"bool"},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"member_name":"length","referencedDeclaration":null,"type":"uint256"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":14,"type":"struct SimpleBoard.Response storage ref[] storage ref","value":"responses"},"id":19,"name":"Identifier","src":"276:9:0"}],"id":20,"name":"MemberAccess","src":"276:16:0"},{"attributes":{"argumentTypes":null,"hexvalue":"313030","isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"subdenomination":null,"token":"number","type":"int_const 100","value":"100"},"id":21,"name":"Literal","src":"295:3:0"}],"id":22,"name":"BinaryOperation","src":"276:22:0"},{"attributes":{"expression":null,"functionReturnParameters":18},"id":23,"name":"Return","src":"300:7:0"}],"id":24,"name":"IfStatement","src":"272:35:0"},{"attributes":{"assignments":[null],"initialValue":null},"children":[{"attributes":{"constant":false,"name":"temp","scope":48,"stateVariable":false,"storageLocation":"memory","type":"struct SimpleBoard.Response memory","value":null,"visibility":"internal"},"children":[{"attributes":{"contractScope":null,"name":"Response","referencedDeclaration":11,"type":"struct SimpleBoard.Response storage pointer"},"id":25,"name":"UserDefinedTypeName","src":"317:8:0"}],"id":26,"name":"VariableDeclaration","src":"317:20:0"}],"id":27,"name":"VariableDeclarationStatement","src":"317:20:0"},{"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"operator":"=","type":"address"},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"member_name":"owner","referencedDeclaration":8,"type":"address"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":26,"type":"struct SimpleBoard.Response memory","value":"temp"},"id":28,"name":"Identifier","src":"347:4:0"}],"id":30,"name":"MemberAccess","src":"347:10:0"},{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"member_name":"sender","referencedDeclaration":null,"type":"address"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":96,"type":"msg","value":"msg"},"id":31,"name":"Identifier","src":"360:3:0"}],"id":32,"name":"MemberAccess","src":"360:10:0"}],"id":33,"name":"Assignment","src":"347:23:0"}],"id":34,"name":"ExpressionStatement","src":"347:23:0"},{"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"operator":"=","type":"string memory"},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"member_name":"str","referencedDeclaration":10,"type":"string memory"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":26,"type":"struct SimpleBoard.Response memory","value":"temp"},"id":35,"name":"Identifier","src":"380:4:0"}],"id":37,"name":"MemberAccess","src":"380:8:0"},{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":16,"type":"string calldata","value":"str"},"id":38,"name":"Identifier","src":"391:3:0"}],"id":39,"name":"Assignment","src":"380:14:0"}],"id":40,"name":"ExpressionStatement","src":"380:14:0"},{"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":false,"isPure":false,"isStructConstructorCall":false,"lValueRequested":false,"names":[null],"type":"uint256","type_conversion":false},"children":[{"attributes":{"argumentTypes":[{"typeIdentifier":"t_struct$_Response_$11_memory_ptr","typeString":"struct SimpleBoard.Response memory"}],"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"member_name":"push","referencedDeclaration":null,"type":"function (struct SimpleBoard.Response storage ref) returns (uint256)"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":14,"type":"struct SimpleBoard.Response storage ref[] storage ref","value":"responses"},"id":41,"name":"Identifier","src":"413:9:0"}],"id":43,"name":"MemberAccess","src":"413:14:0"},{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":26,"type":"struct SimpleBoard.Response memory","value":"temp"},"id":44,"name":"Identifier","src":"428:4:0"}],"id":45,"name":"FunctionCall","src":"413:20:0"}],"id":46,"name":"ExpressionStatement","src":"413:20:0"}],"id":47,"name":"Block","src":"262:178:0"}],"id":48,"name":"FunctionDefinition","src":"224:216:0"},{"attributes":{"constant":true,"implemented":true,"isConstructor":false,"modifiers":[null],"name":"getResponsesAmount","payable":false,"scope":84,"stateMutability":"view","superFunction":null,"visibility":"public"},"children":[{"attributes":{"parameters":[null]},"children":[],"id":49,"name":"ParameterList","src":"472:2:0"},{"children":[{"attributes":{"constant":false,"name":"","scope":57,"stateVariable":false,"storageLocation":"default","type":"uint256","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"uint","type":"uint256"},"id":50,"name":"ElementaryTypeName","src":"499:4:0"}],"id":51,"name":"VariableDeclaration","src":"499:4:0"}],"id":52,"name":"ParameterList","src":"498:6:0"},{"children":[{"attributes":{"functionReturnParameters":52},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"member_name":"length","referencedDeclaration":null,"type":"uint256"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":14,"type":"struct SimpleBoard.Response storage ref[] storage ref","value":"responses"},"id":53,"name":"Identifier","src":"521:9:0"}],"id":54,"name":"MemberAccess","src":"521:16:0"}],"id":55,"name":"Return","src":"514:23:0"}],"id":56,"name":"Block","src":"504:40:0"}],"id":57,"name":"FunctionDefinition","src":"445:99:0"},{"attributes":{"constant":true,"implemented":true,"isConstructor":false,"modifiers":[null],"name":"getResponseOwner","payable":false,"scope":84,"stateMutability":"view","superFunction":null,"visibility":"public"},"children":[{"children":[{"attributes":{"constant":false,"name":"resNum","scope":70,"stateVariable":false,"storageLocation":"default","type":"uint8","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"uint8","type":"uint8"},"id":58,"name":"ElementaryTypeName","src":"575:5:0"}],"id":59,"name":"VariableDeclaration","src":"575:12:0"}],"id":60,"name":"ParameterList","src":"574:14:0"},{"children":[{"attributes":{"constant":false,"name":"","scope":70,"stateVariable":false,"storageLocation":"default","type":"address","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"address","type":"address"},"id":61,"name":"ElementaryTypeName","src":"614:7:0"}],"id":62,"name":"VariableDeclaration","src":"614:7:0"}],"id":63,"name":"ParameterList","src":"613:9:0"},{"children":[{"attributes":{"functionReturnParameters":63},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"member_name":"owner","referencedDeclaration":8,"type":"address"},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"type":"struct SimpleBoard.Response storage ref"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":14,"type":"struct SimpleBoard.Response storage ref[] storage ref","value":"responses"},"id":64,"name":"Identifier","src":"640:9:0"},{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":59,"type":"uint8","value":"resNum"},"id":65,"name":"Identifier","src":"650:6:0"}],"id":66,"name":"IndexAccess","src":"640:17:0"}],"id":67,"name":"MemberAccess","src":"640:23:0"}],"id":68,"name":"Return","src":"633:30:0"}],"id":69,"name":"Block","src":"623:47:0"}],"id":70,"name":"FunctionDefinition","src":"549:121:0"},{"attributes":{"constant":true,"implemented":true,"isConstructor":false,"modifiers":[null],"name":"getResponseStr","payable":false,"scope":84,"stateMutability":"view","superFunction":null,"visibility":"public"},"children":[{"children":[{"attributes":{"constant":false,"name":"resNum","scope":83,"stateVariable":false,"storageLocation":"default","type":"uint8","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"uint8","type":"uint8"},"id":71,"name":"ElementaryTypeName","src":"699:5:0"}],"id":72,"name":"VariableDeclaration","src":"699:12:0"}],"id":73,"name":"ParameterList","src":"698:14:0"},{"children":[{"attributes":{"constant":false,"name":"","scope":83,"stateVariable":false,"storageLocation":"default","type":"string memory","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"string","type":"string storage pointer"},"id":74,"name":"ElementaryTypeName","src":"738:6:0"}],"id":75,"name":"VariableDeclaration","src":"738:6:0"}],"id":76,"name":"ParameterList","src":"737:8:0"},{"children":[{"attributes":{"functionReturnParameters":76},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"member_name":"str","referencedDeclaration":10,"type":"string storage ref"},"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"type":"struct SimpleBoard.Response storage ref"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":14,"type":"struct SimpleBoard.Response storage ref[] storage ref","value":"responses"},"id":77,"name":"Identifier","src":"763:9:0"},{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":72,"type":"uint8","value":"resNum"},"id":78,"name":"Identifier","src":"773:6:0"}],"id":79,"name":"IndexAccess","src":"763:17:0"}],"id":80,"name":"MemberAccess","src":"763:21:0"}],"id":81,"name":"Return","src":"756:28:0"}],"id":82,"name":"Block","src":"746:45:0"}],"id":83,"name":"FunctionDefinition","src":"675:116:0"}],"id":84,"name":"ContractDefinition","src":"25:768:0"}],"id":85,"name":"SourceUnit","src":"0:794:0"},"compiler":{"name":"solc","version":"0.4.18+commit.9cf6e910.Emscripten.clang"},"networks":{"1513963749392":{"events":{},"links":{},"address":"0x8e06c7d6a679943c23749101ffdf70311c9064a5"},"1514043242271":{"events":{},"links":{},"address":"0x1e4e20200764b6e13f53a03beea43785ef0d47f2"}},"schemaVersion":"1.0.1","updatedAt":"2017-12-23T15:48:14.757Z"}]


	//var coinbase = window.web3.eth.coinbase;
	//var balance = window.web3.eth.getBalance(coinbase);

	//console.log(balance.plus(21).toString(10));
  web3.eth.defaultAccount = web3.eth.coinbase;
  //const SimpleBoard = web3.eth.contract(SimpleBoardABI);
	const SimpleBoard = web3.eth.contract([{"constant":true,"inputs":[],"name":"getResponsesAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"resNum","type":"uint8"}],"name":"getResponseOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"resNum","type":"uint8"}],"name":"getResponseStr","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"str","type":"string"}],"name":"postRes","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]);
  //const instance = SimpleBoard.at('0x7f4efae3edcc01091ab8aab42bbd0d5ae77fb8ee');
	const address = '0x09a8f89b2a77d051a58a7486cf7635242f4d23f2';
  const instance = SimpleBoard.at(address);

  //instance._eth.defaultAccount = instance._eth.accounts[0];
  //var result = instance.getResponsesAmount();
  var ResponsesAmount = instance.getResponsesAmount().toNumber();

  console.log("Web3 version: " + window.web3.version.api);
  console.log("Contract Address: " + instance.address);
  console.log("ResponsesAmount: " + ResponsesAmount.s);
  console.log(ResponsesAmount);

	for(var i = 0; i < ResponsesAmount; i++ ){
		console.log("============================================================");
		console.log((i+1) + ":" + instance.getResponseOwner(i));
		console.log(instance.getResponseStr(i));
	}

	//instance.postRes("hello");
	window.instance = instance;
}
